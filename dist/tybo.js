var t=require("@hotwired/stimulus"),e=require("@rails/request.js");function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=/*#__PURE__*/r(require("tom-select"));function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}var u=/*#__PURE__*/function(t){function r(){return t.apply(this,arguments)||this}return o(r,t),r.prototype.toggle=function(t){try{var r=this;t.preventDefault();var n=new e.FetchRequest(r.methodValue,r.urlValue,{responseKind:"turbo-stream",body:{attachment_id:r.attachmentIdValue}});return Promise.resolve(n.perform()).then(function(t){})}catch(t){return Promise.reject(t)}},r}(t.Controller);u.values={url:String,method:String,attachmentId:Number};var s=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var r=e.prototype;return r.toggle=function(){this.menuTarget.classList.toggle("hidden")},r.hide=function(t){this.element.contains(t.target)||this.menuTarget.classList.contains("hidden")||this.menuTarget.classList.add("hidden")},e}(t.Controller);s.targets=["menu"];var a=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.dismiss=function(){this.element.remove()},e}(t.Controller),c=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var r=e.prototype;return r.search=function(){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.formTarget.requestSubmit()},200)},r.setBooleanField=function(t){var e=t.target.getAttribute("data-value"),r=t.target.getAttribute("data-target-id");document.getElementById(r).value=e,this.formTarget.requestSubmit()},e}(t.Controller);c.targets=["form"];var l=/*#__PURE__*/function(t){function r(){return t.apply(this,arguments)||this}o(r,t);var i=r.prototype;return i.connect=function(){var t=this;new n.default(this.element,{plugins:["clear_button"],valueField:"value",load:function(e,r){return t.search(e,r)}})},i.search=function(t,r){try{return Promise.resolve(e.get(this.urlValue,{query:{q:t},responseKind:"json"})).then(function(t){var e=function(){if(t.ok)return Promise.resolve(t.json).then(function(t){r(t)});r()}();if(e&&e.then)return e.then(function(){})})}catch(t){return Promise.reject(t)}},r}(t.Controller);l.values={url:String};var h=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.connect=function(){new n.default(this.element,{create:!1,plugins:["remove_button"]})},e}(t.Controller);exports.Attachments=u,exports.Dropdown=s,exports.Flash=a,exports.SearchForm=c,exports.TsSearch=l,exports.TsSelect=h;
//# sourceMappingURL=tybo.js.map

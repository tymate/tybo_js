import{Controller as e}from"@hotwired/stimulus";import{FetchRequest as t,get as s}from"@rails/request.js";import a from"tom-select";class r extends e{async toggle(e){e.preventDefault();const s=new t(this.methodValue,this.urlValue,{responseKind:"turbo-stream",body:{attachment_id:this.attachmentIdValue}});await s.perform()}}r.values={url:String,method:String,attachmentId:Number};class i extends e{toggle(){this.menuTarget.classList.toggle("hidden")}hide(e){this.element.contains(e.target)||this.menuTarget.classList.contains("hidden")||this.menuTarget.classList.add("hidden")}}i.targets=["menu"];class n extends e{dismiss(){this.element.remove()}}class l extends e{search(){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.formTarget.requestSubmit()},200)}setBooleanField(e){let t=e.target.getAttribute("data-value"),s=e.target.getAttribute("data-target-id");document.getElementById(s).value=t,this.formTarget.requestSubmit()}}l.targets=["form"];class o extends e{connect(){new a(this.element,{plugins:["clear_button"],valueField:"value",load:(e,t)=>this.search(e,t)})}async search(e,t){const a=await s(this.urlValue,{query:{q:e},responseKind:"json"});a.ok?t(await a.json):t()}}o.values={url:String};class m extends e{connect(){new a(this.element,{create:!1,plugins:["remove_button"]})}}export{r as Attachments,i as Dropdown,n as Flash,l as SearchForm,o as TsSearch,m as TsSelect};
//# sourceMappingURL=tybo.modern.js.map

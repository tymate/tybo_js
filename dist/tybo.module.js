import{Controller as t}from"@hotwired/stimulus";import{FetchRequest as e,get as r}from"@rails/request.js";import n from"tom-select";function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}var s=/*#__PURE__*/function(t){function r(){return t.apply(this,arguments)||this}return i(r,t),r.prototype.toggle=function(t){try{var r=this;t.preventDefault();var n=new e(r.methodValue,r.urlValue,{responseKind:"turbo-stream",body:{attachment_id:r.attachmentIdValue}});return Promise.resolve(n.perform()).then(function(t){})}catch(t){return Promise.reject(t)}},r}(t);s.values={url:String,method:String,attachmentId:Number};var a=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var r=e.prototype;return r.toggle=function(){this.menuTarget.classList.toggle("hidden")},r.hide=function(t){this.element.contains(t.target)||this.menuTarget.classList.contains("hidden")||this.menuTarget.classList.add("hidden")},e}(t);a.targets=["menu"];var u=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.prototype.dismiss=function(){this.element.remove()},e}(t),c=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var r=e.prototype;return r.search=function(){var t=this,e=document.getElementById("exportBtn"),r=e.getAttribute("href");if(e){r=r.split("?")[0];var n=this.getQueryParams();e.setAttribute("href",r+"?"+n)}clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.formTarget.requestSubmit()},200)},r.getQueryParams=function(){var t=new FormData(this.formTarget);return new URLSearchParams(t).toString()},r.setBooleanField=function(t){var e=t.target.getAttribute("data-value"),r=t.target.getAttribute("data-target-id");document.getElementById(r).value=e,this.formTarget.requestSubmit()},e}(t);c.targets=["form"];var l=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var o=e.prototype;return o.connect=function(){var t=this;new n(this.element,{plugins:["clear_button"],valueField:"value",load:function(e,r){return t.search(e,r)}})},o.search=function(t,e){try{return Promise.resolve(r(this.urlValue,{query:{q:t},responseKind:"json"})).then(function(t){var r=function(){if(t.ok)return Promise.resolve(t.json).then(function(t){e(t)});e()}();if(r&&r.then)return r.then(function(){})})}catch(t){return Promise.reject(t)}},e}(t);l.values={url:String};var h=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.prototype.connect=function(){new n(this.element,{create:!1,plugins:["remove_button"]})},e}(t),f=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var r=e.prototype;return r.toggle=function(){this.sidebarTarget.classList.toggle("-translate-x-full"),this.bgTarget.classList.toggle("opacity-100")},r.close=function(){this.sidebarTarget.classList.add("-translate-x-full"),this.bgTarget.classList.remove("opacity-100"),this.bgTarget.classList.add("opacity-0")},e}(t);f.targets=["sidebar","bg"];export{s as Attachments,a as Dropdown,u as Flash,c as SearchForm,f as Sidebar,l as TsSearch,h as TsSelect};
//# sourceMappingURL=tybo.module.js.map

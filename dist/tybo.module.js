import{Controller as t}from"@hotwired/stimulus";import{FetchRequest as e,get as r}from"@rails/request.js";import n from"tom-select";function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}var u=/*#__PURE__*/function(t){function r(){return t.apply(this,arguments)||this}return o(r,t),r.prototype.toggle=function(t){try{var r=this;t.preventDefault();var n=new e(r.methodValue,r.urlValue,{responseKind:"turbo-stream",body:{attachment_id:r.attachmentIdValue}});return Promise.resolve(n.perform()).then(function(t){})}catch(t){return Promise.reject(t)}},r}(t);u.values={url:String,method:String,attachmentId:Number};var s=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var r=e.prototype;return r.toggle=function(){this.menuTarget.classList.toggle("hidden")},r.hide=function(t){this.element.contains(t.target)||this.menuTarget.classList.contains("hidden")||this.menuTarget.classList.add("hidden")},e}(t);s.targets=["menu"];var a=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.dismiss=function(){this.element.remove()},e}(t),c=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var r=e.prototype;return r.search=function(){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.formTarget.requestSubmit()},200)},r.setBooleanField=function(t){var e=t.target.getAttribute("data-value"),r=t.target.getAttribute("data-target-id");document.getElementById(r).value=e,this.formTarget.requestSubmit()},e}(t);c.targets=["form"];var h=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var i=e.prototype;return i.connect=function(){var t=this;new n(this.element,{plugins:["clear_button"],valueField:"value",load:function(e,r){return t.search(e,r)}})},i.search=function(t,e){try{return Promise.resolve(r(this.urlValue,{query:{q:t},responseKind:"json"})).then(function(t){var r=function(){if(t.ok)return Promise.resolve(t.json).then(function(t){e(t)});e()}();if(r&&r.then)return r.then(function(){})})}catch(t){return Promise.reject(t)}},e}(t);h.values={url:String};var l=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.connect=function(){new n(this.element,{create:!1,plugins:["remove_button"]})},e}(t);export{u as Attachments,s as Dropdown,a as Flash,c as SearchForm,h as TsSearch,l as TsSelect};
//# sourceMappingURL=tybo.module.js.map
